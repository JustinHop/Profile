#Preliminaries
VERBOSE=no
SHELL=/bin/bash               #Use the Bourne shell (check your path!)
MAILDIR=${HOME}/Maildir            #First check what your mail directory is!
DEFAULT=${MAILDIR}/
LOGFILE=${MAILDIR}/procmail.log
LOG="--- Logging ${LOGFILE} for ${LOGNAME}, "

REC=`formail -xTo | tr -d "<" | tr -d ">"| tr -d " "|tr "." "_"`


##
#   Remove Duplicates, from procmailex

:0 Wh: msgid.lock
| formail -D 8192 msgid.cache


##
#   Handle Spam

:0
* ^From: scam@cyberspam\.com
/dev/null

:0fw
| /usr/bin/spamassassin 

:0
* ^X-Spam-Status: Yes
| /usr/libexec/dovecot/deliver -m .Junk

* ^Subject:\[SPAM\]
| /usr/libexec/dovecot/deliver -m .Junk


##
#   Message Sorting

# Yahoo Account
:0
* justin_hoppensteadt@yahoo.com
| /usr/libexec/dovecot/deliver -m INBOX.Justin_Hoppensteadt@Yahoo_com

# System Messages
:0
* ^From: DenyHosts \<nobody@localhost.justinhoppensteadt.com\>
| /usr/libexec/dovecot/deliver -m INBOX.messages

:0
* ^From: root@(525sports,justinhoppensteadt).com
| /usr/libexec/dovecot/deliver -m INBOX.messages


##
#   Catch-alls
:0
* ? test -d "/home/justin/Maildir/.INBOX.${REC}"
| /usr/libexec/dovecot/deliver -m INBOX.${REC}

:0E:
| /usr/libexec/dovecot/deliver -m INBOX
